{"remainingRequest":"E:\\project\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js!E:\\project\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\project\\lamp-web-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project\\lamp-web-master\\src\\views\\lamp\\system\\role\\roleAuthority.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\project\\lamp-web-master\\src\\views\\lamp\\system\\role\\roleAuthority.vue","mtime":1679380940000},{"path":"E:\\project\\lamp-web-master\\babel.config.js","mtime":1679380940000},{"path":"E:\\project\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686711136315},{"path":"E:\\project\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1686711137609},{"path":"E:\\project\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686711136315},{"path":"E:\\project\\lamp-web-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1686711137115}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"E:/project/lamp-web-master/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es6.array.find-index\");\nvar _toConsumableArray2 = _interopRequireDefault(require(\"E:/project/lamp-web-master/node_modules/@babel/runtime/helpers/toConsumableArray.js\"));\nrequire(\"core-js/modules/es6.set\");\nrequire(\"core-js/modules/es6.string.iterator\");\nrequire(\"core-js/modules/es6.array.from\");\nrequire(\"core-js/modules/web.dom.iterable\");\nvar _Role = _interopRequireDefault(require(\"@/api/Role.js\"));\nvar _Menu = _interopRequireDefault(require(\"@/api/Menu.js\"));\nvar _Resource = _interopRequireDefault(require(\"@/api/Resource.js\"));\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: \"RoleAuthorityEdit\",\n  components: {},\n  props: {\n    dialogVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      roleAuthority: this.initRoleAuthority(),\n      screenWidth: 0,\n      width: this.initWidth(),\n      menuTree: [],\n      resourceList: [],\n      //回显的数据\n      echoResourceIdList: [],\n      rules: {},\n      tableKey: 0,\n      loading: false,\n      tableData: {\n        total: 0\n      },\n      selection: [],\n      disabled: false,\n      isIndeterminate: false,\n      checkedMenu: false\n    };\n  },\n  computed: {\n    isVisible: {\n      get: function get() {\n        return this.dialogVisible;\n      },\n      set: function set() {\n        this.close();\n        this.reset();\n      }\n    },\n    title: function title() {\n      return \"配置菜单资源\";\n    }\n  },\n  watch: {},\n  mounted: function mounted() {\n    var _this = this;\n    this.initMenuTree();\n    window.onresize = function () {\n      return function () {\n        _this.width = _this.initWidth();\n      }();\n    };\n  },\n  methods: {\n    allMenuIdList: function allMenuIdList() {\n      var menuIdList = [];\n      this.getMenuIdList(this.menuTree, menuIdList);\n      return menuIdList;\n    },\n    getMenuIdList: function getMenuIdList(menuList, menuIdList) {\n      var _this2 = this;\n      if (menuList) {\n        menuList.forEach(function (item) {\n          menuIdList.push(item.id);\n          if (item.children && item.children.length > 0) {\n            _this2.getMenuIdList(item.children, menuIdList);\n          }\n        });\n      }\n    },\n    checkedAll: function checkedAll() {\n      if (this.checkedMenu) {\n        //全选\n        this.$refs.menuTree.setCheckedKeys(this.allMenuIdList());\n        this.isIndeterminate = false;\n      } else {\n        //取消选中\n        this.$refs.menuTree.setCheckedKeys([]);\n        this.isIndeterminate = false;\n      }\n    },\n    nodeClick: function nodeClick(data) {\n      var vm = this;\n      vm.loading = true;\n      _Resource.default.page({\n        current: 1,\n        size: 10000,\n        model: {\n          menuId: data.id\n        }\n      }).then(function (response) {\n        var res = response.data;\n        vm.tableData = res.data;\n        vm.loading = false;\n        vm.displayTable();\n      });\n    },\n    displayTable: function displayTable() {\n      var vm = this;\n      vm.tableData.records.forEach(function (item) {\n        vm.roleAuthority.resourceIdList.forEach(function (resourceId) {\n          if (item.id === resourceId) {\n            vm.$refs.table.toggleRowSelection(item, true);\n          }\n        });\n      });\n    },\n    onAllSelect: function onAllSelect(selection) {\n      this.onSelect(selection);\n    },\n    onSelect: function onSelect(selection, row) {\n      var _this3 = this;\n      this.mergeResourceIdList(selection, row);\n      //this.roleAuthority.resourceIdList = selection.map(item => item.id);\n      this.selection = selection;\n\n      // 根据右侧选中的资源，强制勾选左侧的 树状层级菜单\n      var old = this.$refs.menuTree.getCheckedKeys();\n      var must = selection.map(function (item) {\n        return item.menuId;\n      });\n      var newSelected = Array.from(new Set([].concat((0, _toConsumableArray2.default)(old), (0, _toConsumableArray2.default)(must))));\n      this.$refs.menuTree.setCheckedKeys(newSelected);\n      newSelected.forEach(function (item) {\n        _this3.selectedParent(item);\n      });\n    },\n    mergeResourceIdList: function mergeResourceIdList(selection, row) {\n      // true就是选中，0或者false是取消选中\n      var selected = true;\n      if (row) {\n        selected = selection.length && selection.indexOf(row) !== -1;\n      } else {\n        selected = selection.length > 0;\n      }\n\n      //本次选中的\n      var curResourceIdList = selection.map(function (item) {\n        return item.id;\n      });\n      var ridList = this.echoResourceIdList;\n      if (!selected && row) {\n        var index = ridList.findIndex(function (item) {\n          if (item == row.id) {\n            return true;\n          }\n        });\n        ridList.splice(index, 1);\n      }\n\n      // 本次选中的 + 回显的 然后去重\n      this.roleAuthority.resourceIdList = (0, _toConsumableArray2.default)(new Set([].concat((0, _toConsumableArray2.default)(curResourceIdList), (0, _toConsumableArray2.default)(ridList))));\n    },\n    initMenuTree: function initMenuTree() {\n      var _this4 = this;\n      _Menu.default.allTree().then(function (response) {\n        var res = response.data;\n        _this4.menuTree = res.data;\n      });\n    },\n    initRoleAuthority: function initRoleAuthority() {\n      return {\n        roleId: \"\",\n        menuIdList: [],\n        resourceIdList: []\n      };\n    },\n    initWidth: function initWidth() {\n      this.screenWidth = document.body.clientWidth;\n      if (this.screenWidth < 991) {\n        return \"90%\";\n      } else if (this.screenWidth < 1400) {\n        return \"45%\";\n      } else {\n        return \"1000px\";\n      }\n    },\n    setRoleAuthority: function setRoleAuthority(val) {\n      var vm = this;\n      vm.roleAuthority.roleId = val.id;\n      // vm.disabled = val.readonly\n      // 回显\n      _Role.default.findAuthorityIdByRoleId(val.id).then(function (response) {\n        var res = response.data;\n        vm.roleAuthority.menuIdList = res.data.menuIdList;\n        vm.roleAuthority.resourceIdList = res.data.resourceIdList;\n        vm.echoResourceIdList = res.data.resourceIdList;\n        vm.$refs.menuTree.setCheckedKeys(res.data.menuIdList);\n        res.data.menuIdList.forEach(function (item) {\n          vm.selectedParent(item);\n        });\n      });\n    },\n    close: function close() {\n      this.$emit(\"close\");\n    },\n    reset: function reset() {\n      // 先清除校验，再清除表单，不然有奇怪的bug\n      this.$refs.form.clearValidate();\n      this.$refs.form.resetFields();\n      this.roleAuthority = this.initRoleAuthority();\n      this.$refs.menuTree.setCheckedKeys([]);\n      this.$refs.table.clearSelection();\n    },\n    submitForm: function submitForm() {\n      var vm = this;\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          vm.editSubmit();\n        } else {\n          return false;\n        }\n      });\n    },\n    editSubmit: function editSubmit() {\n      var vm = this;\n      this.roleAuthority.menuIdList = vm.$refs.menuTree.getHalfCheckedKeys().concat(vm.$refs.menuTree.getCheckedKeys());\n\n      //勾选时， 实时计算出来\n      //this.roleAuthority.resourceIdList = vm.selection.map(item => item.id);\n\n      _Role.default.saveRoleAuthority(this.roleAuthority).then(function (response) {\n        var res = response.data;\n        if (res.isSuccess) {\n          vm.isVisible = false;\n          vm.$message({\n            message: vm.$t(\"tips.createSuccess\"),\n            type: \"success\"\n          });\n          vm.$emit(\"success\");\n        }\n      });\n    },\n    checkMenu: function checkMenu(data, node) {\n      if (node.checkedKeys.length === 0) {\n        //取消\n        this.checkedMenu = false;\n        this.isIndeterminate = false;\n      } else if (node.checkedKeys.length === this.allMenuIdList().length) {\n        //全选\n        this.checkedMenu = true;\n        this.isIndeterminate = false;\n      } else {\n        // 中立\n        this.checkedMenu = false;\n        this.isIndeterminate = true;\n      }\n\n      // 用于：父子节点严格互不关联时，父节点勾选变化时通知子节点同步变化，实现单向关联。\n      var selected = node.checkedKeys.indexOf(data.id); // -1未选中\n      // 选中\n      if (selected !== -1) {\n        // 子节点只要被选中父节点就被选中\n        this.selectedParent(data);\n        // 统一处理子节点为相同的勾选状态\n        this.uniteChildSame(data, true);\n      } else {\n        // 未选中 处理子节点全部未选中\n        if (data.children && data.children.length !== 0) {\n          this.uniteChildSame(data, false);\n        }\n      }\n    },\n    // 统一处理子节点为相同的勾选状态\n    uniteChildSame: function uniteChildSame(data, isSelected) {\n      this.$refs.menuTree.setChecked(data.id, isSelected);\n      if (data.children) {\n        for (var i = 0; i < data.children.length; i++) {\n          this.uniteChildSame(data.children[i], isSelected);\n        }\n      }\n    },\n    // 统一处理父节点为选中\n    selectedParent: function selectedParent(data) {\n      var currentNode = this.$refs.menuTree.getNode(data);\n      if (currentNode.parent.key !== undefined) {\n        this.$refs.menuTree.setChecked(currentNode.parent, true);\n        this.selectedParent(currentNode.parent);\n      }\n    }\n  }\n};\nexports.default = _default;",{"version":3,"names":["_Role","_interopRequireDefault","require","_Menu","_Resource","name","components","props","dialogVisible","type","Boolean","default","data","roleAuthority","initRoleAuthority","screenWidth","width","initWidth","menuTree","resourceList","echoResourceIdList","rules","tableKey","loading","tableData","total","selection","disabled","isIndeterminate","checkedMenu","computed","isVisible","get","set","close","reset","title","watch","mounted","_this","initMenuTree","window","onresize","methods","allMenuIdList","menuIdList","getMenuIdList","menuList","_this2","forEach","item","push","id","children","length","checkedAll","$refs","setCheckedKeys","nodeClick","vm","resourceApi","page","current","size","model","menuId","then","response","res","displayTable","records","resourceIdList","resourceId","table","toggleRowSelection","onAllSelect","onSelect","row","_this3","mergeResourceIdList","old","getCheckedKeys","must","map","newSelected","Array","from","Set","concat","_toConsumableArray2","selectedParent","selected","indexOf","curResourceIdList","ridList","index","findIndex","splice","_this4","menuApi","allTree","roleId","document","body","clientWidth","setRoleAuthority","val","roleApi","findAuthorityIdByRoleId","$emit","form","clearValidate","resetFields","clearSelection","submitForm","validate","valid","editSubmit","getHalfCheckedKeys","saveRoleAuthority","isSuccess","$message","message","$t","checkMenu","node","checkedKeys","uniteChildSame","isSelected","setChecked","i","currentNode","getNode","parent","key","undefined","exports","_default"],"sources":["src/views/lamp/system/role/roleAuthority.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :close-on-click-modal=\"false\"\n    :title=\"title\"\n    :visible.sync=\"isVisible\"\n    :width=\"width\"\n    top=\"50px\"\n  >\n    <el-form\n      :model=\"roleAuthority\"\n      :rules=\"rules\"\n      label-position=\"top\"\n      label-width=\"100px\"\n      ref=\"form\"\n    >\n      <el-scrollbar style=\"height:800px\">\n        <el-row :gutter=\"12\">\n          <el-col :span=\"8\">\n            <el-card class=\"box-card\">\n              <el-form-item label=\"菜单\" prop=\"menuIdList\">\n                <div align=\"left\" style=\"margin-left:24px;\">\n                  <el-checkbox\n                    :indeterminate=\"isIndeterminate\"\n                    @change=\"checkedAll\"\n                    v-model=\"checkedMenu\"\n                  />\n                  全选/反选\n                </div>\n                <el-tree\n                  :check-strictly=\"true\"\n                  :data=\"menuTree\"\n                  :default-checked-keys=\"roleAuthority.menuIdList\"\n                  :default-expanded-keys=\"roleAuthority.menuIdList\"\n                  :disabled=\"disabled\"\n                  :expand-on-click-node=\"false\"\n                  @check=\"checkMenu\"\n                  @node-click=\"nodeClick\"\n                  default-expand-all\n                  highlight-current\n                  node-key=\"id\"\n                  ref=\"menuTree\"\n                  show-checkbox\n                />\n              </el-form-item>\n            </el-card>\n          </el-col>\n          <el-col :span=\"16\">\n            <el-card class=\"box-card\">\n              <el-form-item label=\"资源\" prop=\"resourceIdList\">\n                <el-table\n                  :data=\"tableData.records\"\n                  :key=\"tableKey\"\n                  @select=\"onSelect\"\n                  @select-all=\"onAllSelect\"\n                  border\n                  fit\n                  ref=\"table\"\n                  row-key=\"id\"\n                  style=\"width: 100%;\"\n                  v-loading=\"loading\"\n                >\n                  <el-table-column\n                    :reserve-selection=\"true\"\n                    align=\"center\"\n                    type=\"selection\"\n                    width=\"40px\"\n                  />\n                  <el-table-column\n                    :label=\"$t('table.resource.code')\"\n                    :show-overflow-tooltip=\"true\"\n                    align=\"center\"\n                    prop=\"code\"\n                  >\n                    <template slot-scope=\"scope\">\n                      <span>{{ scope.row.code }}</span>\n                    </template>\n                  </el-table-column>\n                  <el-table-column\n                    :label=\"$t('table.resource.name')\"\n                    :show-overflow-tooltip=\"true\"\n                    align=\"center\"\n                    prop=\"name\"\n                  >\n                    <template slot-scope=\"scope\">\n                      <span>{{ scope.row.name }}</span>\n                    </template>\n                  </el-table-column>\n                </el-table>\n              </el-form-item>\n            </el-card>\n          </el-col>\n        </el-row>\n      </el-scrollbar>\n    </el-form>\n    <div class=\"dialog-footer\" slot=\"footer\">\n      <el-button @click=\"isVisible = false\" plain type=\"warning\">{{\n        $t(\"common.cancel\")\n        }}\n      </el-button>\n      <el-button\n        :disabled=\"disabled\"\n        @click=\"submitForm\"\n        plain\n        type=\"primary\"\n      >{{ $t(\"common.confirm\") }}\n      </el-button\n      >\n    </div>\n  </el-dialog>\n</template>\n<script>\n  import roleApi from \"@/api/Role.js\";\n  import menuApi from \"@/api/Menu.js\";\n  import resourceApi from \"@/api/Resource.js\";\n\n  export default {\n    name: \"RoleAuthorityEdit\",\n    components: {},\n    props: {\n      dialogVisible: {\n        type: Boolean,\n        default: false\n      }\n    },\n    data() {\n      return {\n        roleAuthority: this.initRoleAuthority(),\n        screenWidth: 0,\n        width: this.initWidth(),\n        menuTree: [],\n        resourceList: [],\n        //回显的数据\n        echoResourceIdList: [],\n        rules: {},\n        tableKey: 0,\n        loading: false,\n        tableData: {\n          total: 0\n        },\n        selection: [],\n        disabled: false,\n        isIndeterminate: false,\n        checkedMenu: false\n      };\n    },\n    computed: {\n      isVisible: {\n        get() {\n          return this.dialogVisible;\n        },\n        set() {\n          this.close();\n          this.reset();\n        }\n      },\n      title() {\n        return \"配置菜单资源\";\n      }\n    },\n    watch: {},\n    mounted() {\n      this.initMenuTree();\n      window.onresize = () => {\n        return (() => {\n          this.width = this.initWidth();\n        })();\n      };\n    },\n    methods: {\n      allMenuIdList() {\n        const menuIdList = [];\n        this.getMenuIdList(this.menuTree, menuIdList);\n        return menuIdList;\n      },\n      getMenuIdList(menuList, menuIdList) {\n        if (menuList) {\n          menuList.forEach(item => {\n            menuIdList.push(item.id);\n            if (item.children && item.children.length > 0) {\n              this.getMenuIdList(item.children, menuIdList);\n            }\n          });\n        }\n      },\n      checkedAll() {\n        if (this.checkedMenu) {\n          //全选\n          this.$refs.menuTree.setCheckedKeys(this.allMenuIdList());\n          this.isIndeterminate = false;\n        } else {\n          //取消选中\n          this.$refs.menuTree.setCheckedKeys([]);\n          this.isIndeterminate = false;\n        }\n      },\n      nodeClick(data) {\n        const vm = this;\n        vm.loading = true;\n\n        resourceApi\n          .page({\n            current: 1, size: 10000,\n            model: {menuId: data.id}\n          })\n          .then(response => {\n            const res = response.data;\n            vm.tableData = res.data;\n            vm.loading = false;\n            vm.displayTable();\n          });\n      },\n      displayTable() {\n        const vm = this;\n        vm.tableData.records.forEach(item => {\n          vm.roleAuthority.resourceIdList.forEach(resourceId => {\n            if (item.id === resourceId) {\n              vm.$refs.table.toggleRowSelection(item, true);\n            }\n          });\n        });\n      },\n      onAllSelect(selection) {\n        this.onSelect(selection);\n      },\n      onSelect(selection, row) {\n        this.mergeResourceIdList(selection, row);\n        //this.roleAuthority.resourceIdList = selection.map(item => item.id);\n        this.selection = selection;\n\n        // 根据右侧选中的资源，强制勾选左侧的 树状层级菜单\n        const old = this.$refs.menuTree.getCheckedKeys();\n        const must = selection.map(item => item.menuId);\n        const newSelected = Array.from(new Set([...old, ...must]));\n        this.$refs.menuTree.setCheckedKeys(newSelected);\n        newSelected.forEach(item => {\n          this.selectedParent(item);\n        });\n      },\n      mergeResourceIdList(selection, row) {\n        // true就是选中，0或者false是取消选中\n        let selected = true;\n        if (row) {\n          selected = selection.length && selection.indexOf(row) !== -1;\n        } else {\n          selected = selection.length > 0;\n        }\n\n        //本次选中的\n        const curResourceIdList = selection.map(item => item.id);\n\n        const ridList = this.echoResourceIdList;\n        if (!selected && row) {\n          var index = ridList.findIndex(item => {\n            if (item == row.id) {\n              return true;\n            }\n          });\n          ridList.splice(index, 1);\n        }\n\n        // 本次选中的 + 回显的 然后去重\n        this.roleAuthority.resourceIdList = [\n          ...new Set([...curResourceIdList, ...ridList])\n        ];\n      },\n\n      initMenuTree() {\n        menuApi.allTree().then(response => {\n          const res = response.data;\n          this.menuTree = res.data;\n        });\n      },\n      initRoleAuthority() {\n        return {\n          roleId: \"\",\n          menuIdList: [],\n          resourceIdList: []\n        };\n      },\n      initWidth() {\n        this.screenWidth = document.body.clientWidth;\n        if (this.screenWidth < 991) {\n          return \"90%\";\n        } else if (this.screenWidth < 1400) {\n          return \"45%\";\n        } else {\n          return \"1000px\";\n        }\n      },\n      setRoleAuthority(val) {\n        const vm = this;\n        vm.roleAuthority.roleId = val.id;\n        // vm.disabled = val.readonly\n        // 回显\n        roleApi.findAuthorityIdByRoleId(val.id).then(response => {\n          const res = response.data;\n          vm.roleAuthority.menuIdList = res.data.menuIdList;\n          vm.roleAuthority.resourceIdList = res.data.resourceIdList;\n          vm.echoResourceIdList = res.data.resourceIdList;\n          vm.$refs.menuTree.setCheckedKeys(res.data.menuIdList);\n          res.data.menuIdList.forEach(item => {\n            vm.selectedParent(item);\n          });\n        });\n      },\n      close() {\n        this.$emit(\"close\");\n      },\n      reset() {\n        // 先清除校验，再清除表单，不然有奇怪的bug\n        this.$refs.form.clearValidate();\n        this.$refs.form.resetFields();\n        this.roleAuthority = this.initRoleAuthority();\n        this.$refs.menuTree.setCheckedKeys([]);\n        this.$refs.table.clearSelection();\n      },\n      submitForm() {\n        const vm = this;\n        this.$refs.form.validate(valid => {\n          if (valid) {\n            vm.editSubmit();\n          } else {\n            return false;\n          }\n        });\n      },\n      editSubmit() {\n        const vm = this;\n\n        this.roleAuthority.menuIdList = vm.$refs.menuTree\n          .getHalfCheckedKeys()\n          .concat(vm.$refs.menuTree.getCheckedKeys());\n\n        //勾选时， 实时计算出来\n        //this.roleAuthority.resourceIdList = vm.selection.map(item => item.id);\n\n        roleApi.saveRoleAuthority(this.roleAuthority).then(response => {\n          const res = response.data;\n          if (res.isSuccess) {\n            vm.isVisible = false;\n            vm.$message({\n              message: vm.$t(\"tips.createSuccess\"),\n              type: \"success\"\n            });\n            vm.$emit(\"success\");\n          }\n        });\n      },\n      checkMenu(data, node) {\n        if (node.checkedKeys.length === 0) {\n          //取消\n          this.checkedMenu = false;\n          this.isIndeterminate = false;\n        } else if (node.checkedKeys.length === this.allMenuIdList().length) {\n          //全选\n          this.checkedMenu = true;\n          this.isIndeterminate = false;\n        } else {\n          // 中立\n          this.checkedMenu = false;\n          this.isIndeterminate = true;\n        }\n\n        // 用于：父子节点严格互不关联时，父节点勾选变化时通知子节点同步变化，实现单向关联。\n        let selected = node.checkedKeys.indexOf(data.id); // -1未选中\n        // 选中\n        if (selected !== -1) {\n          // 子节点只要被选中父节点就被选中\n          this.selectedParent(data);\n          // 统一处理子节点为相同的勾选状态\n          this.uniteChildSame(data, true);\n        } else {\n          // 未选中 处理子节点全部未选中\n          if (data.children && data.children.length !== 0) {\n            this.uniteChildSame(data, false);\n          }\n        }\n      },\n      // 统一处理子节点为相同的勾选状态\n      uniteChildSame(data, isSelected) {\n        this.$refs.menuTree.setChecked(data.id, isSelected);\n        if (data.children) {\n          for (let i = 0; i < data.children.length; i++) {\n            this.uniteChildSame(data.children[i], isSelected);\n          }\n        }\n      },\n      // 统一处理父节点为选中\n      selectedParent(data) {\n        let currentNode = this.$refs.menuTree.getNode(data);\n        if (currentNode.parent.key !== undefined) {\n          this.$refs.menuTree.setChecked(currentNode.parent, true);\n          this.selectedParent(currentNode.parent);\n        }\n      }\n    }\n  };\n</script>\n<style lang=\"scss\" scoped></style>\n"],"mappings":"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"}]}