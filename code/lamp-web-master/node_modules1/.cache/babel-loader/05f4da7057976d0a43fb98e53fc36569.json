{"remainingRequest":"E:\\project\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js!E:\\project\\lamp-web-master\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\project\\lamp-web-master\\src\\utils\\error-log.js","dependencies":[{"path":"E:\\project\\lamp-web-master\\src\\utils\\error-log.js","mtime":1679380940000},{"path":"E:\\project\\lamp-web-master\\babel.config.js","mtime":1679380940000},{"path":"E:\\project\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686711136315},{"path":"E:\\project\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1686711137609},{"path":"E:\\project\\lamp-web-master\\node_modules\\eslint-loader\\index.js","mtime":1686711135831}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"E:/project/lamp-web-master/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.string.includes\");\nvar _vue = _interopRequireDefault(require(\"vue\"));\nvar _store = _interopRequireDefault(require(\"@/store\"));\nvar _myValidate = require(\"@/utils/my-validate\");\n// you can set in settings.js\n// errorLog:'production' | ['production', 'development']\nvar needErrorLog = false;\nfunction checkNeed() {\n  var env = process.env.NODE_ENV;\n  if ((0, _myValidate.isString)(needErrorLog)) {\n    return env === needErrorLog;\n  }\n  if ((0, _myValidate.isArray)(needErrorLog)) {\n    return needErrorLog.includes(env);\n  }\n  return false;\n}\nif (checkNeed()) {\n  _vue.default.config.errorHandler = function (err, vm, info, a) {\n    // Don't ask me why I use Vue.nextTick, it just a hack.\n    // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\n    _vue.default.nextTick(function () {\n      _store.default.dispatch('errorLog/addErrorLog', {\n        err: err,\n        vm: vm,\n        info: info,\n        url: window.location.href\n      });\n      console.error(err, info);\n    });\n  };\n}",{"version":3,"names":["_vue","_interopRequireDefault","require","_store","_myValidate","needErrorLog","checkNeed","env","process","NODE_ENV","isString","isArray","includes","Vue","config","errorHandler","err","vm","info","a","nextTick","store","dispatch","url","window","location","href","console","error"],"sources":["E:/project/lamp-web-master/src/utils/error-log.js"],"sourcesContent":["import Vue from 'vue'\nimport store from '@/store'\nimport { isString, isArray } from '@/utils/my-validate'\n\n// you can set in settings.js\n// errorLog:'production' | ['production', 'development']\nconst needErrorLog = false\n\nfunction checkNeed() {\n  const env = process.env.NODE_ENV\n  if (isString(needErrorLog)) {\n    return env === needErrorLog\n  }\n  if (isArray(needErrorLog)) {\n    return needErrorLog.includes(env)\n  }\n  return false\n}\n\nif (checkNeed()) {\n  Vue.config.errorHandler = function(err, vm, info, a) {\n  // Don't ask me why I use Vue.nextTick, it just a hack.\n  // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\n    Vue.nextTick(() => {\n      store.dispatch('errorLog/addErrorLog', {\n        err,\n        vm,\n        info,\n        url: window.location.href\n      })\n      console.error(err, info)\n    })\n  }\n}\n"],"mappings":";;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAEA;AACA;AACA,IAAMG,YAAY,GAAG,KAAK;AAE1B,SAASC,SAASA,CAAA,EAAG;EACnB,IAAMC,GAAG,GAAGC,OAAO,CAACD,GAAG,CAACE,QAAQ;EAChC,IAAI,IAAAC,oBAAQ,EAACL,YAAY,CAAC,EAAE;IAC1B,OAAOE,GAAG,KAAKF,YAAY;EAC7B;EACA,IAAI,IAAAM,mBAAO,EAACN,YAAY,CAAC,EAAE;IACzB,OAAOA,YAAY,CAACO,QAAQ,CAACL,GAAG,CAAC;EACnC;EACA,OAAO,KAAK;AACd;AAEA,IAAID,SAAS,CAAC,CAAC,EAAE;EACfO,YAAG,CAACC,MAAM,CAACC,YAAY,GAAG,UAASC,GAAG,EAAEC,EAAE,EAAEC,IAAI,EAAEC,CAAC,EAAE;IACrD;IACA;IACEN,YAAG,CAACO,QAAQ,CAAC,YAAM;MACjBC,cAAK,CAACC,QAAQ,CAAC,sBAAsB,EAAE;QACrCN,GAAG,EAAHA,GAAG;QACHC,EAAE,EAAFA,EAAE;QACFC,IAAI,EAAJA,IAAI;QACJK,GAAG,EAAEC,MAAM,CAACC,QAAQ,CAACC;MACvB,CAAC,CAAC;MACFC,OAAO,CAACC,KAAK,CAACZ,GAAG,EAAEE,IAAI,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC;AACH"}]}