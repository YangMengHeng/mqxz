{"remainingRequest":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\thread-loader\\dist\\cjs.js!E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js!E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\project\\lamp-web-master(finish\\lamp-web-master\\src\\directive\\el-drag-dialog\\drag.js","dependencies":[{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\src\\directive\\el-drag-dialog\\drag.js","mtime":1679380940000},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\babel.config.js","mtime":1679380940000},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686711136315},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1686711135008},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1686711137609},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\eslint-loader\\index.js","mtime":1686711135831}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nexport default {\n  bind: function bind(el, binding, vnode) {\n    var dialogHeaderEl = el.querySelector('.el-dialog__header');\n    var dragDom = el.querySelector('.el-dialog');\n    dialogHeaderEl.style.cssText += ';cursor:move;';\n    dragDom.style.cssText += ';top:0px;';\n\n    // 获取原有属性 ie dom元素.currentStyle 火狐谷歌 window.getComputedStyle(dom元素, null);\n    var getStyle = function () {\n      if (window.document.currentStyle) {\n        return function (dom, attr) {\n          return dom.currentStyle[attr];\n        };\n      } else {\n        return function (dom, attr) {\n          return getComputedStyle(dom, false)[attr];\n        };\n      }\n    }();\n    dialogHeaderEl.onmousedown = function (e) {\n      // 鼠标按下，计算当前元素距离可视区的距离\n      var disX = e.clientX - dialogHeaderEl.offsetLeft;\n      var disY = e.clientY - dialogHeaderEl.offsetTop;\n      var dragDomWidth = dragDom.offsetWidth;\n      var dragDomHeight = dragDom.offsetHeight;\n      var screenWidth = document.body.clientWidth;\n      var screenHeight = document.body.clientHeight;\n      var minDragDomLeft = dragDom.offsetLeft;\n      var maxDragDomLeft = screenWidth - dragDom.offsetLeft - dragDomWidth;\n      var minDragDomTop = dragDom.offsetTop;\n      var maxDragDomTop = screenHeight - dragDom.offsetTop - dragDomHeight;\n\n      // 获取到的值带px 正则匹配替换\n      var styL = getStyle(dragDom, 'left');\n      var styT = getStyle(dragDom, 'top');\n      if (styL.includes('%')) {\n        styL = +document.body.clientWidth * (+styL.replace(/\\%/g, '') / 100);\n        styT = +document.body.clientHeight * (+styT.replace(/\\%/g, '') / 100);\n      } else {\n        styL = +styL.replace(/\\px/g, '');\n        styT = +styT.replace(/\\px/g, '');\n      }\n      document.onmousemove = function (e) {\n        // 通过事件委托，计算移动的距离\n        var left = e.clientX - disX;\n        var top = e.clientY - disY;\n\n        // 边界处理\n        if (-left > minDragDomLeft) {\n          left = -minDragDomLeft;\n        } else if (left > maxDragDomLeft) {\n          left = maxDragDomLeft;\n        }\n        if (-top > minDragDomTop) {\n          top = -minDragDomTop;\n        } else if (top > maxDragDomTop) {\n          top = maxDragDomTop;\n        }\n\n        // 移动当前元素\n        dragDom.style.cssText += \";left:\".concat(left + styL, \"px;top:\").concat(top + styT, \"px;\");\n\n        // emit onDrag event\n        vnode.child.$emit('dragDialog');\n      };\n      document.onmouseup = function (e) {\n        document.onmousemove = null;\n        document.onmouseup = null;\n      };\n    };\n  }\n};",{"version":3,"names":["bind","el","binding","vnode","dialogHeaderEl","querySelector","dragDom","style","cssText","getStyle","window","document","currentStyle","dom","attr","getComputedStyle","onmousedown","e","disX","clientX","offsetLeft","disY","clientY","offsetTop","dragDomWidth","offsetWidth","dragDomHeight","offsetHeight","screenWidth","body","clientWidth","screenHeight","clientHeight","minDragDomLeft","maxDragDomLeft","minDragDomTop","maxDragDomTop","styL","styT","includes","replace","onmousemove","left","top","concat","child","$emit","onmouseup"],"sources":["E:/project/lamp-web-master(finish/lamp-web-master/src/directive/el-drag-dialog/drag.js"],"sourcesContent":["export default {\n  bind(el, binding, vnode) {\n    const dialogHeaderEl = el.querySelector('.el-dialog__header')\n    const dragDom = el.querySelector('.el-dialog')\n    dialogHeaderEl.style.cssText += ';cursor:move;'\n    dragDom.style.cssText += ';top:0px;'\n\n    // 获取原有属性 ie dom元素.currentStyle 火狐谷歌 window.getComputedStyle(dom元素, null);\n    const getStyle = (function() {\n      if (window.document.currentStyle) {\n        return (dom, attr) => dom.currentStyle[attr]\n      } else {\n        return (dom, attr) => getComputedStyle(dom, false)[attr]\n      }\n    })()\n\n    dialogHeaderEl.onmousedown = (e) => {\n      // 鼠标按下，计算当前元素距离可视区的距离\n      const disX = e.clientX - dialogHeaderEl.offsetLeft\n      const disY = e.clientY - dialogHeaderEl.offsetTop\n\n      const dragDomWidth = dragDom.offsetWidth\n      const dragDomHeight = dragDom.offsetHeight\n\n      const screenWidth = document.body.clientWidth\n      const screenHeight = document.body.clientHeight\n\n      const minDragDomLeft = dragDom.offsetLeft\n      const maxDragDomLeft = screenWidth - dragDom.offsetLeft - dragDomWidth\n\n      const minDragDomTop = dragDom.offsetTop\n      const maxDragDomTop = screenHeight - dragDom.offsetTop - dragDomHeight\n\n      // 获取到的值带px 正则匹配替换\n      let styL = getStyle(dragDom, 'left')\n      let styT = getStyle(dragDom, 'top')\n\n      if (styL.includes('%')) {\n        styL = +document.body.clientWidth * (+styL.replace(/\\%/g, '') / 100)\n        styT = +document.body.clientHeight * (+styT.replace(/\\%/g, '') / 100)\n      } else {\n        styL = +styL.replace(/\\px/g, '')\n        styT = +styT.replace(/\\px/g, '')\n      }\n\n      document.onmousemove = function(e) {\n        // 通过事件委托，计算移动的距离\n        let left = e.clientX - disX\n        let top = e.clientY - disY\n\n        // 边界处理\n        if (-(left) > minDragDomLeft) {\n          left = -minDragDomLeft\n        } else if (left > maxDragDomLeft) {\n          left = maxDragDomLeft\n        }\n\n        if (-(top) > minDragDomTop) {\n          top = -minDragDomTop\n        } else if (top > maxDragDomTop) {\n          top = maxDragDomTop\n        }\n\n        // 移动当前元素\n        dragDom.style.cssText += `;left:${left + styL}px;top:${top + styT}px;`\n\n        // emit onDrag event\n        vnode.child.$emit('dragDialog')\n      }\n\n      document.onmouseup = function(e) {\n        document.onmousemove = null\n        document.onmouseup = null\n      }\n    }\n  }\n}\n"],"mappings":"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"}]}