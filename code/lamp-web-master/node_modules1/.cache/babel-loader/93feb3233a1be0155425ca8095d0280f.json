{"remainingRequest":"C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\src\\views\\lamp\\activiti\\leave\\instantManager\\edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\src\\views\\lamp\\activiti\\leave\\instantManager\\edit.vue","mtime":1679380940000},{"path":"C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\babel.config.js","mtime":1679380940000},{"path":"C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686711136315},{"path":"C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1686711135008},{"path":"C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1686711137609},{"path":"C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686711136315},{"path":"C:\\Users\\Planck\\Desktop\\mycode\\lamp\\lamp-web-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1686711137115}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport activitiApi from \"@/api/Activiti.js\";\nfunction subForm() {\n  return {\n    startTime: '',\n    endTime: '',\n    whenLong: '',\n    type: '',\n    reason: ''\n  };\n}\nexport default {\n  name: 'ModelEdit',\n  props: {\n    type: {\n      type: String,\n      default: 'add'\n    }\n  },\n  data: function data() {\n    return {\n      editVisible: false,\n      typs: [\"病假\", \"事假\"],\n      subForm: subForm(),\n      row: {},\n      tableData: [],\n      tableKey: 'id',\n      loading: false\n    };\n  },\n  computed: {},\n  watch: {},\n  mounted: function mounted() {},\n  methods: {\n    open: function open(row) {\n      this.editVisible = true;\n      this.row = row;\n      if (row) {\n        this.getDetail();\n        this.getList();\n      }\n    },\n    editClose: function editClose() {\n      this.editVisible = false;\n      this.$parent.editClose();\n      this.row = {};\n      this.subForm = subForm();\n      this.formItemList = [];\n      this.formList = [];\n      this.tableData = [];\n      this.formKey = null;\n    },\n    getList: function getList() {\n      var vm = this;\n      if (!vm.row.id) {\n        return;\n      }\n      vm.loading = true;\n      activitiApi.getItemList({\n        instId: vm.row.inst.key\n      }).then(function (response) {\n        var res = response.data;\n        if (res.code === 0 && res.data) {\n          vm.tableData = res.data;\n          vm.getReadyTaskByInst(vm.row.inst.key);\n        }\n      }).finally();\n    },\n    getDetail: function getDetail() {\n      var vm = this;\n      if (!vm.row.id) {\n        return;\n      }\n      activitiApi.getDetailInst({\n        id: vm.row.id\n      }).then(function (response) {\n        var res = response.data;\n        if (res.code === 0) {\n          vm.subForm = res.data;\n        }\n      }).finally();\n    },\n    getReadyTaskByInst: function getReadyTaskByInst(instId) {\n      var _this = this;\n      var vm = this;\n      activitiApi.getReadyTaskByInst({\n        instId: instId\n      }).then(function (response) {\n        var res = response.data;\n        if (res.code === 0 && res.data) {\n          if (res.data) {\n            var list = res.data;\n            list.forEach(function (data) {\n              data.isReady = true;\n              data.itemName = data.name;\n              vm.tableData.unshift(data);\n            });\n          }\n        }\n      }).finally(function () {\n        return _this.loading = false;\n      });\n    },\n    submitForm: function submitForm() {\n      var vm = this;\n      activitiApi.saveInstant(vm.subForm).then(function (response) {\n        var res = response.data;\n        if (res.isSuccess) {\n          vm.$message({\n            message: vm.$t(\"tips.createSuccess\"),\n            type: 'success'\n          });\n          vm.editClose();\n        } else {\n          vm.$message({\n            message: response.msg,\n            type: 'error'\n          });\n        }\n      }).finally(function () {\n        return vm.loading = false;\n      });\n    },\n    tableRowClassName: function tableRowClassName(_ref) {\n      var row = _ref.row,\n        rowIndex = _ref.rowIndex;\n      if (rowIndex === 0) {\n        if (row.isReady) {\n          return 'warning-row';\n        } else {\n          return 'success-row';\n        }\n      }\n      return '';\n    }\n  }\n};",null]}