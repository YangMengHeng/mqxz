{"remainingRequest":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\thread-loader\\dist\\cjs.js!E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js!E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\project\\lamp-web-master(finish\\lamp-web-master\\src\\utils\\request.js","dependencies":[{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\src\\utils\\request.js","mtime":1679380940000},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\babel.config.js","mtime":1679380940000},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686711136315},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1686711135008},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1686711137609},{"path":"E:\\project\\lamp-web-master(finish\\lamp-web-master\\node_modules\\eslint-loader\\index.js","mtime":1686711135831}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:/project/lamp-web-master(finish/lamp-web-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.is\";\nimport axios from 'axios';\nimport { Message } from 'element-ui';\nimport store from '@/store/index';\nimport { getToken, getRefreshToken, getExpireTime } from '@/utils/auth';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nvar service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API,\n  timeout: 10000,\n  responseType: 'json',\n  validateStatus: function validateStatus(status) {\n    return status === 200;\n  }\n});\nvar refresh_service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API,\n  timeout: 10000,\n  responseType: 'json',\n  validateStatus: function validateStatus(status) {\n    return status === 200;\n  }\n});\nservice.interceptors.request.use(function (config) {\n  var _config = config;\n  try {\n    var expireTime = getExpireTime();\n    if (expireTime) {\n      var left = expireTime - new Date().getTime();\n      var refreshToken = getRefreshToken();\n      if (left < 5 * 60 * 1000 && refreshToken) {\n        _config = queryRefreshToken(_config, refreshToken);\n      } else {\n        if (getToken()) {\n          _config.headers['Authorization'] = 'bearer ' + getToken();\n        }\n      }\n    }\n  } catch (e) {\n    console.error(e);\n  }\n  return _config;\n}, function (error) {\n  console.log(error);\n  return Promise.reject(error);\n});\n\n// response interceptor\nservice.interceptors.response.use(function (config) {\n  return config;\n}, function (error) {\n  if (error.response) {\n    var errorMessage = error.response.data === null ? '系统内部异常，请联系网站管理员' : error.response.data.message;\n    switch (error.response.status) {\n      case 404:\n        Message({\n          message: '很抱歉，资源未找到' || 'Error',\n          type: 'error',\n          duration: 5 * 1000\n        });\n        break;\n      case 403:\n        Message({\n          message: '很抱歉，您暂无该操作权限' || 'Error',\n          type: 'error',\n          duration: 5 * 1000\n        });\n        break;\n      case 401:\n        Message({\n          message: '很抱歉，认证已失效，请重新登录' || 'Error',\n          type: 'error',\n          duration: 5 * 1000\n        });\n        break;\n      default:\n        if (errorMessage) {\n          Message({\n            message: errorMessage,\n            type: 'error',\n            duration: 5 * 1000\n          });\n        }\n        break;\n    }\n  }\n  return Promise.reject(error);\n});\nvar request = {\n  refresh: function refresh(url, params) {\n    params['grant_type'] = 'refresh_token';\n    return refresh_service.post(url, params, {\n      transformRequest: [function (params) {\n        return tansParams(params);\n      }],\n      headers: {\n        'Authorization': 'Basic ZmViczoxMjM0NTY='\n      }\n    });\n  },\n  login: function login(url, params) {\n    params['grant_type'] = 'password';\n    return service.post(url, params, {\n      transformRequest: [function (params) {\n        return tansParams(params);\n      }],\n      headers: {\n        'Authorization': 'Basic ZmViczoxMjM0NTY='\n      }\n    });\n  },\n  post: function post(url, params) {\n    return service.post(url, params, {\n      transformRequest: [function (params) {\n        return tansParams(params);\n      }],\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n  },\n  put: function put(url, params) {\n    return service.put(url, params, {\n      transformRequest: [function (params) {\n        return tansParams(params);\n      }],\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n  },\n  get: function get(url, params) {\n    var _params;\n    if (Object.is(params, undefined)) {\n      _params = '';\n    } else {\n      _params = '?';\n      for (var key in params) {\n        if (params.hasOwnProperty(key) && params[key] !== null) {\n          _params += \"\".concat(key, \"=\").concat(params[key], \"&\");\n        }\n      }\n    }\n    return service.get(\"\".concat(url).concat(_params));\n  },\n  delete: function _delete(url, params) {\n    var _params;\n    if (Object.is(params, undefined)) {\n      _params = '';\n    } else {\n      _params = '?';\n      for (var key in params) {\n        if (params.hasOwnProperty(key) && params[key] !== null) {\n          _params += \"\".concat(key, \"=\").concat(params[key], \"&\");\n        }\n      }\n    }\n    return service.delete(\"\".concat(url).concat(_params));\n  },\n  download: function download(url, params, filename) {\n    NProgress.start();\n    return service.post(url, params, {\n      transformRequest: [function (params) {\n        return tansParams(params);\n      }],\n      responseType: 'blob'\n    }).then(function (r) {\n      var content = r.data;\n      var blob = new Blob([content]);\n      if ('download' in document.createElement('a')) {\n        var elink = document.createElement('a');\n        elink.download = filename;\n        elink.style.display = 'none';\n        elink.href = URL.createObjectURL(blob);\n        document.body.appendChild(elink);\n        elink.click();\n        URL.revokeObjectURL(elink.href);\n        document.body.removeChild(elink);\n      } else {\n        navigator.msSaveBlob(blob, filename);\n      }\n      NProgress.done();\n    }).catch(function (r) {\n      console.error(r);\n      NProgress.done();\n      Message({\n        message: '下载失败',\n        type: 'error',\n        duration: 5 * 1000\n      });\n    });\n  },\n  upload: function upload(url, params) {\n    return service.post(url, params, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n};\nfunction tansParams(params) {\n  var result = '';\n  Object.keys(params).forEach(function (key) {\n    if (!Object.is(params[key], undefined) && !Object.is(params[key], null)) {\n      result += encodeURIComponent(key) + '=' + encodeURIComponent(params[key]) + '&';\n    }\n  });\n  return result;\n}\nfunction queryRefreshToken(_x, _x2) {\n  return _queryRefreshToken.apply(this, arguments);\n}\nfunction _queryRefreshToken() {\n  _queryRefreshToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(config, refreshToken) {\n    var result;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return request.refresh('authority/anno/login', {\n            // const result = await request.refresh('auth/oauth/token', {\n            refresh_token: refreshToken\n          });\n        case 2:\n          result = _context.sent;\n          if (result.status === 200) {\n            saveData(result.data);\n            config.headers['Authorization'] = 'bearer ' + getToken();\n          }\n          return _context.abrupt(\"return\", config);\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _queryRefreshToken.apply(this, arguments);\n}\nfunction saveData(data) {\n  store.commit('account/setAccessToken', data.access_token);\n  store.commit('account/setRefreshToken', data.refresh_token);\n  var current = new Date();\n  var expireTime = current.setTime(current.getTime() + 1000 * data.expires_in);\n  store.commit('account/setExpireTime', expireTime);\n}\nexport default request;",{"version":3,"names":["axios","Message","store","getToken","getRefreshToken","getExpireTime","NProgress","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","responseType","validateStatus","status","refresh_service","interceptors","request","use","config","_config","expireTime","left","Date","getTime","refreshToken","queryRefreshToken","headers","e","console","error","log","Promise","reject","response","errorMessage","data","message","type","duration","refresh","url","params","post","transformRequest","tansParams","login","put","get","_params","Object","is","undefined","key","hasOwnProperty","concat","delete","_delete","download","filename","start","then","r","content","blob","Blob","document","createElement","elink","style","display","href","URL","createObjectURL","body","appendChild","click","revokeObjectURL","removeChild","navigator","msSaveBlob","done","catch","upload","result","keys","forEach","encodeURIComponent","_x","_x2","_queryRefreshToken","apply","arguments","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","refresh_token","sent","saveData","abrupt","stop","commit","access_token","current","setTime","expires_in"],"sources":["E:/project/lamp-web-master(finish/lamp-web-master/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport { Message } from 'element-ui'\nimport store from '@/store/index'\nimport { getToken, getRefreshToken, getExpireTime } from '@/utils/auth'\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\n\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API,\n  timeout: 10000,\n  responseType: 'json',\n  validateStatus (status) {\n    return status === 200\n  }\n})\n\nconst refresh_service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API,\n  timeout: 10000,\n  responseType: 'json',\n  validateStatus (status) {\n    return status === 200\n  }\n})\n\nservice.interceptors.request.use(\n  config => {\n    let _config = config\n    try {\n      const expireTime = getExpireTime()\n      if (expireTime) {\n        const left = expireTime - new Date().getTime()\n        const refreshToken = getRefreshToken()\n        if (left < 5 * 60 * 1000 && refreshToken) {\n          _config = queryRefreshToken(_config, refreshToken)\n        } else {\n          if (getToken()) {\n            _config.headers['Authorization'] = 'bearer ' + getToken()\n          }\n        }\n      }\n    } catch (e) {\n      console.error(e)\n    }\n    return _config\n  },\n  error => {\n    console.log(error)\n    return Promise.reject(error)\n  }\n)\n\n// response interceptor\nservice.interceptors.response.use((config) => {\n  return config\n}, (error) => {\n  if (error.response) {\n    const errorMessage = error.response.data === null ? '系统内部异常，请联系网站管理员' : error.response.data.message\n    switch (error.response.status) {\n      case 404:\n        Message({\n          message: '很抱歉，资源未找到' || 'Error',\n          type: 'error',\n          duration: 5 * 1000\n        })\n        break\n      case 403:\n        Message({\n          message: '很抱歉，您暂无该操作权限' || 'Error',\n          type: 'error',\n          duration: 5 * 1000\n        })\n        break\n      case 401:\n        Message({\n          message: '很抱歉，认证已失效，请重新登录' || 'Error',\n          type: 'error',\n          duration: 5 * 1000\n        })\n        break\n      default:\n        if (errorMessage) {\n          Message({\n            message: errorMessage,\n            type: 'error',\n            duration: 5 * 1000\n          })\n        }\n        break\n    }\n  }\n  return Promise.reject(error)\n})\n\nconst request = {\n  refresh (url, params) {\n    params['grant_type'] = 'refresh_token'\n    return refresh_service.post(url, params, {\n      transformRequest: [(params) => {\n        return tansParams(params)\n      }],\n      headers: {\n        'Authorization': 'Basic ZmViczoxMjM0NTY='\n      }\n    })\n  },\n  login (url, params) {\n    params['grant_type'] = 'password'\n    return service.post(url, params, {\n      transformRequest: [(params) => {\n        return tansParams(params)\n      }],\n      headers: {\n        'Authorization': 'Basic ZmViczoxMjM0NTY='\n      }\n    })\n  },\n  post (url, params) {\n    return service.post(url, params, {\n      transformRequest: [(params) => {\n        return tansParams(params)\n      }],\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n  },\n  put (url, params) {\n    return service.put(url, params, {\n      transformRequest: [(params) => {\n        return tansParams(params)\n      }],\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n  },\n  get (url, params) {\n    let _params\n    if (Object.is(params, undefined)) {\n      _params = ''\n    } else {\n      _params = '?'\n      for (const key in params) {\n        if (params.hasOwnProperty(key) && params[key] !== null) {\n          _params += `${key}=${params[key]}&`\n        }\n      }\n    }\n    return service.get(`${url}${_params}`)\n  },\n  delete (url, params) {\n    let _params\n    if (Object.is(params, undefined)) {\n      _params = ''\n    } else {\n      _params = '?'\n      for (const key in params) {\n        if (params.hasOwnProperty(key) && params[key] !== null) {\n          _params += `${key}=${params[key]}&`\n        }\n      }\n    }\n    return service.delete(`${url}${_params}`)\n  },\n  download (url, params, filename) {\n    NProgress.start()\n    return service.post(url, params, {\n      transformRequest: [(params) => {\n        return tansParams(params)\n      }],\n      responseType: 'blob'\n    }).then((r) => {\n      const content = r.data\n      const blob = new Blob([content])\n      if ('download' in document.createElement('a')) {\n        const elink = document.createElement('a')\n        elink.download = filename\n        elink.style.display = 'none'\n        elink.href = URL.createObjectURL(blob)\n        document.body.appendChild(elink)\n        elink.click()\n        URL.revokeObjectURL(elink.href)\n        document.body.removeChild(elink)\n      } else {\n        navigator.msSaveBlob(blob, filename)\n      }\n      NProgress.done()\n    }).catch((r) => {\n      console.error(r)\n      NProgress.done()\n      Message({\n        message: '下载失败',\n        type: 'error',\n        duration: 5 * 1000\n      })\n    })\n  },\n  upload (url, params) {\n    return service.post(url, params, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  }\n}\n\nfunction tansParams (params) {\n  let result = ''\n  Object.keys(params).forEach((key) => {\n    if (!Object.is(params[key], undefined) && !Object.is(params[key], null)) {\n      result += encodeURIComponent(key) + '=' + encodeURIComponent(params[key]) + '&'\n    }\n  })\n  return result\n}\n\nasync function queryRefreshToken (config, refreshToken) {\n  const result = await request.refresh('authority/anno/login', {\n    // const result = await request.refresh('auth/oauth/token', {\n    refresh_token: refreshToken\n  })\n  if (result.status === 200) {\n    saveData(result.data)\n    config.headers['Authorization'] = 'bearer ' + getToken()\n  }\n  return config\n}\n\nfunction saveData (data) {\n  store.commit('account/setAccessToken', data.access_token)\n  store.commit('account/setRefreshToken', data.refresh_token)\n  const current = new Date()\n  const expireTime = current.setTime(current.getTime() + 1000 * data.expires_in)\n  store.commit('account/setExpireTime', expireTime)\n}\n\nexport default request\n"],"mappings":"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"}]}